<!DOCTYPE html>
<html>
<head>
<title>GAME HUB MASTER - PS4 9.00</title>
<style>
    body { background-color: #050505; color: white; text-align: center; font-family: sans-serif; }
    .loader { border: 10px solid #1f1e1e; border-top: 10px solid #00d4ff; border-radius: 50%; width: 100px; height: 100px; animation: spin 1s linear infinite; margin: 50px auto; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    .msg { color: #00ffcc; font-size: 1.5rem; margin-top: 20px; }
    #btns { display: none; margin-top: 30px; }
    button { background: #222; color: white; border: 1px solid #00d4ff; padding: 15px; margin: 5px; cursor: pointer; border-radius: 8px; }
</style>

<script src="int64.js"></script>
<script src="rop.js"></script>
<script src="kexploit.js"></script>
<script src="webkit.js"></script>

<script>
    function s(msg) { document.getElementById('status').innerText = msg; }
    
    // دوال الثغرة
    function awaitpl() {
        document.getElementById('loader').style.display = "none";
        document.getElementById('btns').style.display = "block";
        s("بانتظار البايلود... أدخل الفلاشة الآن ✅");
    }

    function allset() {
        s("تم تفعيل الثغرة بنجاح! ✅");
    }

    // محرك الشحن المدمج
    function r(file) {
        s("جاري إرسال: " + file);
        var xhr = new XMLHttpRequest();
        xhr.open('GET', 'payloads/' + file, true);
        xhr.responseType = 'arraybuffer';
        xhr.onload = function() {
            var data = new Uint8Array(xhr.response);
            var pb = chain.syscall(477, 0, data.length, 7, 0x1000, -1, 0);
            for (var i = 0; i < data.length; i++) { write8(pb.add32(i), data[i]); }
            var ta = malloc(8);
            chain.syscall(79, pb, 0, ta);
            s("تم التفعيل: " + file);
        };
        xhr.send();
    }
</script>
</head>

<body onload="setTimeout(poc, 1500);">
    <h1>GAME HUB MASTER</h1>
    <div id="loader" class="loader"></div>
    <div id="status" class="msg">جاري تشغيل الثغرة...</div>

    <div id="btns">
        <button onclick="r('goldhen.bin')">GOLDHEN 2.4</button>
        <button onclick="r('ftp.bin')">FTP</button>
        <button onclick="r('appdumper.bin')">DUMPER</button>
    </div>
</body>
</html>
