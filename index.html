<!DOCTYPE html>
<html manifest="./PSFree.manifest">
  <head>
    <meta charset="UTF-8">
    <title>PSFree</title>
    <link rel="stylesheet" href="./css/index.css">

    <script>
      function DLProgress(e){
        Percent = Math.round(e.loaded / e.total * 100);
        document.title = "Installing offline cache: " + Percent + "%";
      }
      function DisplayCacheProgress(){
        setTimeout(()=>{ document.title="Cache Success !"; },1000);
        setTimeout(()=>{ window.location.href = document.referrer; },3000);
      }
      window.applicationCache.addEventListener("progress",DLProgress,false);
      window.applicationCache.oncached = DisplayCacheProgress;
      window.applicationCache.onupdateready = DisplayCacheProgress;
    </script>
  </head>

  <body>

    <!-- Floating Menu -->
    <div class="floating-menu">
      <button onclick="showpayloads()" class="menu-btn" id="payloadsbtn">Payloads</button>
      <button class="menu-btn" id="generate-cache-btn">Force-Cache</button>
      <button class="menu-btn" id="update-exploit">Update-Exploit</button>
      <button onclick="showsettings()" class="menu-btn" id="settings-btn">Settings</button>
      <button onclick="showabout()" class="menu-btn" id="about-btn">About</button>
    </div>

    <div class="header">
      <div class="header-title" id="header-title">PSFree</div>
    </div>

    <pre id="update-results" style="white-space: pre-wrap; margin-top: 10px;"></pre>

    <h2 id="PS4FW">PS4 FW: 0.00 | Compatible</h2>

    <!-- Jailbreak Page -->
    <div id="jailbreak-page">
      <div class="center-btn-wrap">
        <button id="jailbreak" class="ps-btn" title="PlayStation">
          <svg viewBox="0 0 32 32" fill="none">
            <path d="M0.69 21.95C-0.50 22.79 -0.28 24.23 2.44 25.14C5.18 26.04 8.35 26.23 11.15 25.72V22.87L8.43 23.8C7.39 24.13 6.35 24.21 5.32 23.96C4.52 23.71 4.68 23.21 5.64 22.79L11.15 20.78V17.67L3.48 20.44C2.52 20.78 1.56 21.28 0.69 21.95Z"/>
          </svg>
        </button>
      </div>
      <div class="loader" id="loader" style="display: none;">
        <div class="loader-circle"></div>
      </div>
    </div>

    <!-- Payloads Page -->
    <div id="payloads-page" style="display: none;">
      <nav class="floating-menu-payloads">
        <button id="toolb" onclick="showtoolspayloads()">Tools</button>
        <button id="gameb" onclick="showgamepayloads()">Games</button>
        <button id="linuxb" onclick="showlinuxpayloads()">Linux</button>
      </nav>

      <div id="payloads-tools" style="display: block;">
        <h2>Tools</h2>
        <div class="button-container">
          <button id="binloader">Bin-Loader</button>
          <button data-func="load_AppDumper">App-Dumper</button>
          <button data-func="load_KernelDumper">Kernel-Dumper</button>
          <button data-func="load_VTXDumper">PS4-Dumper-VTX</button>
          <button data-func="load_App2USB">App2USB</button>
          <button data-func="load_DisableUpdates">Disable-Updates</button>
          <button data-func="load_EnableUpdates">Enable-Updates</button>
          <button data-func="load_FTP">FTP</button>
          <button data-func="load_HistoryBlocker">History-Blocker</button>
          <button data-func="load_KernelClock">Kernel-Clock</button>
          <button data-func="load_PS4Debug">PS4-Debug</button>
          <button data-func="load_ToDex">ToDex</button>
          <button data-func="load_ToDev">ToDev</button>
          <button data-func="load_ToKratos">ToKratos</button>
          <button data-func="load_ToCex">ToCex</button>
          <button data-func="load_BackupDB">Backup-DB</button>
          <button data-func="load_RestoreDB">Restore-DB</button>
          <button data-func="load_RIFRenamer">RIF-Renamer</button>
          <button data-func="load_ExitIDU">ExitIDU</button>
          <button data-func="load_DisableASLR">Disable-ASLR</button>
          <button data-func="load_ModuleDumper">Module-Dumper</button>
          <button data-func="load_PermanentUART">Permanent-UART</button>
          <button data-func="load_PUPDecrypt">PUP-Decrypt</button>
        </div>
      </div>

      <div id="payloads-game" style="display: none;">
        <h2>Game</h2>
        <div class="button-container">
          <button data-func="load_GTAArbic">GTAV-ArabicGuy-1.27</button>
          <button data-func="load_GTAArbic3">GTAV-ArabicGuy-1.32</button>
          <button data-func="load_GTAArbic33">GTAV-ArabicGuy-1.33</button>
          <button data-func="load_GTABQ133">GTAV-BeefQueefMod-1.33</button>
          <button data-func="load_GTABQ134">GTAV-BeefQueefMod-1.34</button>
          <button data-func="load_GTABQ138">GTAV-BeefQueefMod-1.38</button>
        </div>
      </div>

      <div id="payloads-linux" style="display: none;">
        <h2>Linux</h2>
        <div class="button-container">
          <button data-func="load_Linux">1GBVram</button>
          <button data-func="load_Linux2gb">2GBVram</button>
          <button data-func="load_Linux3gb">3GBVram</button>
          <button data-func="load_Linux4gb">4GBVram</button>
        </div>
      </div>
    </div>

    <!-- Debug Console -->
    <div id="DebugConsole">
      <h3>Debug Console</h3>
      <div class="console"><pre id="console"></pre></div>
    </div>

    <!-- About Popup -->
    <div class="overlay" id="overlay-popup"></div>
    <div class="popup" id="about-popup">
      <h2>About PSFree</h2>
      <p>Version: 1.5.1</p>
      <p>A simple web interface for PS4 jailbreak.</p>
      <button onclick="closeabout()" class="close-btn"></button>
    </div>

    <!-- Settings Popup -->
    <div class="popup" id="settings-popup">
      <h2>Settings PSFree</h2>
      <label><input type="checkbox" id="ckbaj"> Auto-Jailbreak</label>
      <label><input type="checkbox" id="ckbdc" checked> Enable Debug Console</label>
      <button onclick="closesettings()" class="close-btn"></button>
    </div>

    <script src="./js/index.js"></script>
  </body>
</html>
